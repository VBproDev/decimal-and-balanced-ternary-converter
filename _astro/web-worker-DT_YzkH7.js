function l(r){let e=0;for(let t=0;t<r.length;t++)e=e*3+(r[t]==="T"?-1:parseInt(r[t]));return e}function a(r){if(r===0)return"0";let e="";for(;r!==0;)(r%3+3)%3===0?e="0"+e:(r%3+3)%3===1?(e="1"+e,r-=1):(e="T"+e,r+=1),r=Math.floor(r/3);return e}self.onmessage=r=>{const{range:e,numSys:t}=r.data;let n=[];if(t==="balanced-ternary"){for(let s=Number(e[0]);s<=Number(e[1]);s++)n.push(s);self.postMessage(n.map(s=>a(s)))}else{for(let s=l(e[0]);s<=l(e[1]);s++)n.push(s);self.postMessage(n)}};
